h1. TODO

*On This Page*
{toc:minlevel=2|maxlevel=2}

h2. Current

h3. IN PROGRESS Add more unit tests

h3. DONE Add conditional text support

Here's an attempt at a high-level design that (mostly) follows Asciidoc, but tries to keep it "Confluence-ish".

If you have some conditional text, include it in a macro block like the one shown below (or not shown, perhaps).

{code}
{audience:FOO}
Here is some conditional text.
{audience}
{code}

To call {{confluence2html}} and get the first conditional block to appear, run it like this:

{code}
$ confluence2html --audience FOO
{code}

You may also want to provide multiple values to an option.  For example, you may have additional blocks of conditional text.

{code}
{audience:BAR}
Even moar conditional text.
{audience}

{audience:QUUX}
If you are reading this, welcome to the Quux Hierarchy (long may it reign).
{audience}
{code}

To get the first of the above blocks to appear in the output, issue

{code}
$ confluence2html --audience BAR
{code}

To get the second,

{code}
$ confluence2html --audience QUUX
{code}

And to get them both to appear, try

{code}
$ confluence2html --audience BAR --audience QUUX
{code}

{info}
For information on how to actually implement multiple values for a given option, see the section *Options with multiple values* in the {{Getopt::Long}} docs.
{info}

h3. TODO Don't add anchor tags to headers unless the TOC macro is used

h2. Staging

h2. Someday/Maybe

h3. TODO Add '--config' flag

This should output the location of the config files (if any).

h3. TODO Read settings from config file

There should be a user-level config file, as well as per-directory settings.

h3. TODO should contents of 'htmlcomment' just be dropped from the output?

h3. TODO Refactor this ugly bastard

h3. TODO Output Pandoc JSON format

h3. TODO Note ALL of the differences with Confluence markup in POD

h3. TODO Make this a module

h3. TODO Make image directory a flag

h3. TODO Make base URI for wiki links a flag

h3. TODO Implement underlining

h3. TODO Implement toggle-able pretty-printing

h3. TODO Implement strikethrough (-FOO-)

h3. TODO Implement ordered lists

h3. TODO Implement line breaks (\\)

h3. TODO Get 'mailto' links to work

h3. TODO Generate a parse tree/AST that can be re-used?

h3. TODO Decide on a license for this code

h3. TODO Come up with a new name (derived from Confluence?)

h3. TODO Cherry-pick random bugfixes from alternate branches

h3. TODO Can't link to headers in another page

h3. DONE Wrap list items in UL tags

h3. DONE Update build script to massage the Markdown

h3. DONE Implement `toc' macro

h3. DONE Implement 'htmlcomment' macro

h3. DONE Implement header lines (----)

h3. DONE Implement blockquotes

h3. DONE Fix bug where ' in a list element causes a line break

h3. DONE Evaluate options other than Markdown

h3. DONE Can't do relative links in same page

h3. DONE Add command line options

h2. Archive

{htmlcomment}
vim: set ft=confluencewiki:
{htmlcomment}
